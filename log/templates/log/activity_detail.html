{% extends 'log/base.html' %}
{% load staticfiles %}

{% block content %}

  <a href="/log/athlete/edit_activity/{{ activity.id }}">
    EDIT
  </a>
  <a href="/log/athlete/delete_activity/{{ activity.id }}">
    DELETE
  </a>
  </div>

  {% ifequal activity.act_type "NormalRun" %}
    <div .class="activity_detail_container">
      <h2 id='test'> {{ workout.distance }} {{ workout.units }} in {{ workout.duration }} </h2>
    </div>
  {% endifequal %}

  {% ifequal activity.act_type "IntervalRun" %}

    <h2 id='test'> Interval Run </h2>
    <div .class="activity_detail_container">
      <h4>Warm up</h4>
      <p> {{ workout.warmup }} (in {{ workout.wu_units }})</p>
      <h4>Cool Down</h4>
      <p> {{ workout.cooldown }}( in {{ workout.cd_units }})</p>
      <h4>Total Distance</h4>
      <p> {{ workout.distance }} ( in Miles )</p>

      <table>
        <tr>
          <th>Distance</th>
          <th>Time</th>
          <th>Rest</th>
          <th>Goal Pace</th>
        </tr>
        {% for rep in reps %}
          <tr>
            <td>{{ rep.distance }}</td>
            <td>{{ rep.duration }}</td>
            <td>{{ rep.rest }}</td>
            <td>{{ rep.goal_pace }}</td>
          </tr>
        {% endfor %}
      </table>
    </div>

    <!--  Load the ajax api -->
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
      var interval_graph_data = {{ interval_graph_data|safe }}
    </script>

    <script type="text/javascript" src="{% static 'log/js/interval_run_detail.js' %}"></script>
    <div id='interval_graph'>
    </div>
  {% endifequal %}

  {% ifequal activity.act_type "CrossTrain" %}
    <div .class="activity_detail_container">
      <div .class="activity_detail_container">
        <h2 id='test'> {{ workout.distance }} {{ workout.units }} in {{ workout.duration }} ({{ workout.sport }})</h2>
      </div>
    </div>
  {% endifequal %}

  {% ifequal activity.act_type "Event" %}
    <div .class="activity_detail_container">
      {{ workout.distance }}
      {{ workout.duration }}
      more stuff about the meet here
    </div>
  {% endifequal %}

  {{ activity.comment }}

  {% if comments %}
    <div id='thread_container'>
      {% for comment in comments %}
        <div class='comment_container'>
          {{ comment.poster }}: {{ comment.text }}
        </div>
      {% endfor %}
    </div>
  {% endif %}

  <form action="/log/athlete/activity_detail/{{ activity.id }}/" method="post" autocomplete="off">
    {% csrf_token %}
    <h4 id='test'> Enter a comment for {{ activity.athlete.user.first_name }} to see </h4>
    {{ commentform.errors }}
    {{ commentform.non_field_errors }}
    {{ commentform.as_p }}
    <input type="submit" value="Post comment" />
  </form>

{% endblock %}
